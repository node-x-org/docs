---
description: API 調用說明文件 (RPC 代理服務)
---

# RPC

<p align="right"><a href="https://docs.node-x.xyz/en/product-manual/rpc">English</a></p>

## 💻 API 調用說明文件 (RPC 代理服務)

### 🎯 概述

本 API 介面用於代理對特定 RPC (Remote Procedure Call，遠端程序調用) 服務的調用。

### 🚀 詳情

| 屬性          | 值              |
| ----------- | -------------- |
| **HTTP 方法** | `POST`         |
| **請求路徑**    | `/rpc/{chain}` |

#### 路徑參數說明

| 路徑參數        | 類型       | 描述                                                | 範例值        |
| ----------- | -------- | ------------------------------------------------- | ---------- |
| **`chain`** | `String` | **必填**。您購買的 RPC 服務名稱 (例如：`ethereum`、`polygon` 等)。 | `ethereum` |

***

### 🔑 Header 參數 (身分驗證)

| Header 名稱           | 類型       | 描述                                                                         |
| ------------------- | -------- | -------------------------------------------------------------------------- |
| **`X-PAYER-TOKEN`** | `String` | **必填**。購買 RPC 服務成功後返回的 **`token` 值**。此 token 用於身分驗證與計費。**請務必妥善保存此 token。** |

***

### 📄 請求體 (`rawBody`)

| 參數            | 類型       | 描述                                                                   |
| ------------- | -------- | -------------------------------------------------------------------- |
| **`rawBody`** | `String` | **必填**。用於調用具體 RPC 方法的原始請求體。此參數內容需根據您要調用的底層 RPC (如 JSON-RPC 規範) 動態傳遞。 |

#### `rawBody` 範例 (以 Ethereum JSON-RPC 為例)

若要取得最新的區塊編號 (`eth_blockNumber`)，`rawBody` 內容如下：

```json
{
    "jsonrpc": "2.0",
    "method": "eth_blockNumber",
    "params": [],
    "id": 1
}
```

❌ 錯誤處理

| **HTTP 狀態碼**           | **錯誤原因** | **描述**                             |
| ---------------------- | -------- | ---------------------------------- |
| `402 PAYMENT_REQUIRED` | 身分驗證失敗   | 需發起支付購買服務後調用。                      |
| `404 Not Found`        | 資源不存在    | 請求路徑中的 `chain` 名稱無效。               |
| `400 Bad Request`      | 請求格式錯誤   | `rawBody` 格式錯誤，或底層 RPC 服務驗證請求參數失敗。 |
| `5xx` 系列               | 伺服器錯誤    | 指示服務內部錯誤或 RPC 代理層無法連接目標 RPC 服務。    |
